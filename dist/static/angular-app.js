/*! angular-app - v0.0.1-SNAPSHOT - 2016-04-20
 * https://github.com/angular-app/angular-app
 * Copyright (c) 2016 Pawel Kozlowski & Peter Bacon Darwin;
 * Licensed MIT
 */
angular.module("admin",["admin-projects","admin-users"]),angular.module("admin-projects",["resources.projects","resources.users","services.crud","security.authorization"]).config(["crudRouteProvider","securityAuthorizationProvider",function(e,t){var n=["Projects","Users","$route",function(e,t){return t.all()}];e.routesFor("Projects","admin").whenList({projects:["Projects",function(e){return e.all()}],adminUser:t.requireAdminUser}).whenNew({project:["Projects",function(e){return new e}],users:n,adminUser:t.requireAdminUser}).whenEdit({project:["Projects","Users","$route",function(e,t,n){return e.getById(n.current.params.itemId)}],users:n,adminUser:t.requireAdminUser})}]).controller("ProjectsListCtrl",["$scope","crudListMethods","projects",function(e,t,n){e.projects=n,angular.extend(e,t("/admin/projects"))}]).controller("ProjectsEditCtrl",["$scope","$location","i18nNotifications","users","project",function(e,t,n,r,s){e.project=s,e.users=r,e.onSave=function(e){n.pushForNextRoute("crud.project.save.success","success",{id:e.$id()}),t.path("/admin/projects")},e.onError=function(){n.pushForCurrentRoute("crud.project.save.error","error")}}]).controller("TeamMembersController",["$scope",function(e){e.project.teamMembers=e.project.teamMembers||[],e.usersLookup={},angular.forEach(e.users,function(t){e.usersLookup[t.$id()]=t}),e.productOwnerCandidates=function(){return e.users.filter(function(t){return e.usersLookup[t.$id()]&&e.project.canActAsProductOwner(t.$id())})},e.scrumMasterCandidates=function(){return e.users.filter(function(t){return e.usersLookup[t.$id()]&&e.project.canActAsScrumMaster(t.$id())})},e.teamMemberCandidates=function(){return e.users.filter(function(t){return e.usersLookup[t.$id()]&&e.project.canActAsDevTeamMember(t.$id())&&!e.project.isDevTeamMember(t.$id())})},e.selTeamMember=void 0,e.addTeamMember=function(){e.selTeamMember&&(e.project.teamMembers.push(e.selTeamMember),e.selTeamMember=void 0)},e.removeTeamMember=function(t){var n=e.project.teamMembers.indexOf(t);n>=0&&e.project.teamMembers.splice(n,1),e.selTeamMember===t&&(e.selTeamMember=void 0)}}]),angular.module("admin-users-edit",["services.crud","services.i18nNotifications","admin-users-edit-uniqueEmail","admin-users-edit-validateEquals"]).controller("UsersEditCtrl",["$scope","$location","i18nNotifications","user",function(e,t,n,r){e.user=r,e.password=r.password,e.onSave=function(e){n.pushForNextRoute("crud.user.save.success","success",{id:e.$id()}),t.path("/admin/users")},e.onError=function(){n.pushForCurrentRoute("crud.user.save.error","error")},e.onRemove=function(e){n.pushForNextRoute("crud.user.remove.success","success",{id:e.$id()}),t.path("/admin/users")}}]),angular.module("admin-users-list",["services.crud","services.i18nNotifications"]).controller("UsersListCtrl",["$scope","crudListMethods","users","i18nNotifications",function(e,t,n,r){e.users=n,angular.extend(e,t("/admin/users")),e.remove=function(t,n,s){s.stopPropagation(),t.$remove(function(){e.users.splice(n,1),r.pushForCurrentRoute("crud.user.remove.success","success",{id:t.$id()})},function(){r.pushForCurrentRoute("crud.user.remove.error","error",{id:t.$id()})})}}]),angular.module("admin-users",["admin-users-list","admin-users-edit","services.crud","security.authorization","directives.gravatar"]).config(["crudRouteProvider","securityAuthorizationProvider",function(e,t){e.routesFor("Users","admin").whenList({users:["Users",function(e){return e.all()}],currentUser:t.requireAdminUser}).whenNew({user:["Users",function(e){return new e}],currentUser:t.requireAdminUser}).whenEdit({user:["$route","Users",function(e,t){return t.getById(e.current.params.itemId)}],currentUser:t.requireAdminUser})}]),angular.module("admin-users-edit-uniqueEmail",["resources.users"]).directive("uniqueEmail",["Users",function(e){return{require:"ngModel",restrict:"A",link:function(t,n,r,s){s.$parsers.push(function(t){return t?(e.query({email:t},function(e){0===e.length?s.$setValidity("uniqueEmail",!0):s.$setValidity("uniqueEmail",!1)}),t):void 0})}}}]),angular.module("admin-users-edit-validateEquals",[]).directive("validateEquals",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){function s(e,t){return e===t?(r.$setValidity("equal",!0),e):(r.$setValidity("equal",!1),void 0)}e.$watch(n.validateEquals,function(e){r.$setValidity("equal",r.$viewValue===e)}),r.$parsers.push(function(t){return s(t,e.$eval(n.validateEquals))}),r.$formatters.push(function(t){return s(t,e.$eval(n.validateEquals))})}}}),angular.module("app",["ngRoute","projectsinfo","dashboard","projects","admin","services.breadcrumbs","services.i18nNotifications","services.httpRequestTracker","security","directives.crud","templates.app","templates.common"]),angular.module("app").constant("MONGOLAB_CONFIG",{baseUrl:"/databases/",dbName:"ascrum"}),angular.module("app").constant("I18N.MESSAGES",{"errors.route.changeError":"Route change error","crud.user.save.success":"A user with id '{{id}}' was saved successfully.","crud.user.remove.success":"A user with id '{{id}}' was removed successfully.","crud.user.remove.error":"Something went wrong when removing user with id '{{id}}'.","crud.user.save.error":"Something went wrong when saving a user...","crud.project.save.success":"A project with id '{{id}}' was saved successfully.","crud.project.remove.success":"A project with id '{{id}}' was removed successfully.","crud.project.save.error":"Something went wrong when saving a project...","login.reason.notAuthorized":"You do not have the necessary access permissions.  Do you want to login as someone else?","login.reason.notAuthenticated":"You must be logged in to access this part of the application.","login.error.invalidCredentials":"Login failed.  Please check your credentials and try again.","login.error.serverError":"There was a problem with authenticating: {{exception}}."}),angular.module("app").config(["$routeProvider","$locationProvider",function(e,t){t.html5Mode(!0),e.otherwise({redirectTo:"/projectsinfo"})}]),angular.module("app").run(["security",function(e){e.requestCurrentUser()}]),angular.module("app").controller("AppCtrl",["$scope","i18nNotifications","localizedMessages",function(e,t){e.notifications=t,e.removeNotification=function(e){t.remove(e)},e.$on("$routeChangeError",function(e,n,r,s){t.pushForCurrentRoute("errors.route.changeError","error",{},{rejection:s})})}]),angular.module("app").controller("HeaderCtrl",["$scope","$location","$route","security","breadcrumbs","notifications","httpRequestTracker",function(e,t,n,r,s,o,a){e.location=t,e.breadcrumbs=s,e.isAuthenticated=r.isAuthenticated,e.isAdmin=r.isAdmin,e.home=function(){r.isAuthenticated()?t.path("/dashboard"):t.path("/projectsinfo")},e.isNavbarActive=function(e){return e===s.getFirst().name},e.hasPendingRequests=function(){return a.hasPendingRequests()}}]),angular.module("dashboard",["resources.projects","resources.tasks"]).config(["$routeProvider",function(e){e.when("/dashboard",{templateUrl:"dashboard/dashboard.tpl.html",controller:"DashboardCtrl",resolve:{projects:["Projects",function(e){return e.all()}],tasks:["Tasks",function(e){return e.all()}]}})}]).controller("DashboardCtrl",["$scope","$location","projects","tasks",function(e,t,n,r){e.projects=n,e.tasks=r,e.manageBacklog=function(e){t.path("/projects/"+e+"/productbacklog")},e.manageSprints=function(e){t.path("/projects/"+e+"/sprints")}}]),angular.module("productbacklog",["resources.productbacklog","services.crud"]).config(["crudRouteProvider",function(e){var t=["$route",function(e){return e.current.params.projectId}];e.routesFor("ProductBacklog","projects","projects/:projectId").whenList({projectId:t,backlog:["$route","ProductBacklog",function(e,t){return t.forProject(e.current.params.projectId)}]}).whenNew({projectId:t,backlogItem:["$route","ProductBacklog",function(e,t){return new t({projectId:e.current.params.projectId})}]}).whenEdit({projectId:t,backlogItem:["$route","ProductBacklog",function(e,t){return t.getById(e.current.params.itemId)}]})}]).controller("ProductBacklogListCtrl",["$scope","crudListMethods","projectId","backlog",function(e,t,n,r){e.backlog=r,angular.extend(e,t("/projects/"+n+"/productbacklog"))}]).controller("ProductBacklogEditCtrl",["$scope","$location","projectId","backlogItem",function(e,t,n,r){e.backlogItem=r,e.onSave=function(){t.path("/projects/"+n+"/productbacklog")},e.onError=function(){e.updateError=!0}}]),angular.module("projects",["resources.projects","productbacklog","sprints","security.authorization"]).config(["$routeProvider","securityAuthorizationProvider",function(e,t){e.when("/projects",{templateUrl:"projects/projects-list.tpl.html",controller:"ProjectsViewCtrl",resolve:{projects:["Projects",function(e){return e.all()}],authenticatedUser:t.requireAuthenticatedUser}})}]).controller("ProjectsViewCtrl",["$scope","$location","projects","security",function(e,t,n,r){e.projects=n,e.viewProject=function(e){t.path("/projects/"+e.$id())},e.manageBacklog=function(e){t.path("/projects/"+e.$id()+"/productbacklog")},e.manageSprints=function(e){t.path("/projects/"+e.$id()+"/sprints")},e.getMyRoles=function(e){return r.currentUser?e.getRoles(r.currentUser.id):void 0}}]),angular.module("sprints",["resources.sprints","services.crud","tasks"]).config(["crudRouteProvider",function(e){var t=["$route",function(e){return e.current.params.projectId}],n=["$route","ProductBacklog",function(e,t){return t.forProject(e.current.params.projectId)}];e.routesFor("Sprints","projects","projects/:projectId").whenList({projectId:t,sprints:["$route","Sprints",function(e,t){return t.forProject(e.current.params.projectId)}]}).whenNew({projectId:t,sprint:["$route","Sprints",function(e,t){return new t({projectId:e.current.params.projectId})}],productBacklog:n}).whenEdit({projectId:t,sprint:["$route","Sprints",function(e,t){return t.getById(e.current.params.itemId)}],productBacklog:n})}]).controller("SprintsListCtrl",["$scope","$location","crudListMethods","projectId","sprints",function(e,t,n,r,s){e.sprints=s,angular.extend(e,n("/projects/"+r+"/sprints")),e.tasks=function(e){t.path("/projects/"+r+"/sprints/"+e.$id()+"/tasks")}}]).controller("SprintsEditCtrl",["$scope","$location","projectId","sprint","productBacklog",function(e,t,n,r,s){e.productBacklog=s,e.sprint=r,e.onSave=function(){t.path("/projects/"+n+"/sprints")},e.onError=function(){e.updateError=!0},e.sprint.sprintBacklog=e.sprint.sprintBacklog||[],e.productBacklogLookup={},angular.forEach(e.productBacklog,function(t){e.productBacklogLookup[t.$id()]=t}),e.viewProductBacklogItem=function(e){t.path("/projects/"+n+"/productbacklog/"+e)},e.addBacklogItem=function(t){e.sprint.sprintBacklog.push(t.$id())},e.removeBacklogItem=function(t){e.sprint.sprintBacklog.splice(e.sprint.sprintBacklog.indexOf(t),1)},e.estimationInTotal=function(){var t=0;return angular.forEach(r.sprintBacklog,function(n){t+=e.productBacklogLookup[n].estimation}),t},e.notSelected=function(t){return-1===e.sprint.sprintBacklog.indexOf(t.$id())}}]),angular.module("tasks",["resources.tasks","services.crud"]).config(["crudRouteProvider",function(e){var t=["Sprints","ProductBacklog","$route",function(e,t,n){var r=e.getById(n.current.params.sprintId);return r.then(function(e){return t.getByIds(e.sprintBacklog)})}],n=["Projects","Users","$route",function(e,t,n){var r=e.getById(n.current.params.projectId);return r.then(function(e){return t.getByIds(e.teamMembers)})}];e.routesFor("Tasks","projects/sprints","projects/:projectId/sprints/:sprintId").whenList({tasks:["Tasks","$route",function(e,t){return e.forSprint(t.current.params.sprintId)}]}).whenNew({task:["Tasks","$route",function(e,t){return new e({projectId:t.current.params.projectId,sprintId:t.current.params.sprintId,state:e.statesEnum[0]})}],sprintBacklogItems:t,teamMembers:n}).whenEdit({task:["Tasks","$route",function(e,t){return e.getById(t.current.params.itemId)}],sprintBacklogItems:t,teamMembers:n})}]).controller("TasksListCtrl",["$scope","crudListMethods","$route","tasks",function(e,t,n,r){e.tasks=r;var s=n.current.params.projectId,o=n.current.params.sprintId;angular.extend(e,t("/projects/"+s+"/sprints/"+o+"/tasks"))}]).controller("TasksEditCtrl",["$scope","$location","$route","Tasks","sprintBacklogItems","teamMembers","task",function(e,t,n,r,s,o,a){e.task=a,e.statesEnum=r.statesEnum,e.sprintBacklogItems=s,e.teamMembers=o,e.onSave=function(){t.path("/admin/users")},e.onError=function(){e.updateError=!0}}]),angular.module("projectsinfo",[],["$routeProvider",function(e){e.when("/projectsinfo",{templateUrl:"projectsinfo/list.tpl.html",controller:"ProjectsInfoListCtrl",resolve:{projects:["Projects",function(e){return e.all()}]}})}]),angular.module("projectsinfo").controller("ProjectsInfoListCtrl",["$scope","projects",function(e,t){e.projects=t}]),angular.module("directives.crud",["directives.crud.buttons","directives.crud.edit"]),angular.module("directives.crud.buttons",[]).directive("crudButtons",function(){return{restrict:"E",replace:!0,template:'<div>  <button type="button" class="btn btn-primary save" ng-disabled="!canSave()" ng-click="save()">Save</button>  <button type="button" class="btn btn-warning revert" ng-click="revertChanges()" ng-disabled="!canRevert()">Revert changes</button>  <button type="button" class="btn btn-danger remove" ng-click="remove()" ng-show="canRemove()">Remove</button></div>'}}),angular.module("directives.crud.edit",[]).directive("crudEdit",["$parse",function(e){return{scope:!0,require:"^form",link:function(t,n,r,s){var o=e(r.crudEdit),a=o.assign,i=o(t),c=angular.copy(i),u=function(e){if(!angular.isFunction(i[e]))throw Error("crudEdit directive: The resource must expose the "+e+"() instance method")};u("$saveOrUpdate"),u("$id"),u("$remove");var l=function(e){var n=t.$eval(r[e]);if(!angular.isFunction(n))throw Error('crudEdit directive: The attribute "'+e+'" must evaluate to a function');return n},d=r.onSave?l("onSave"):t.onSave||angular.noop,p=function(e,t,n,r){c=e,d(e,t,n,r)},m=r.onRemove?l("onRemove"):t.onRemove||p,g=r.onError?l("onError"):t.onError||angular.noop;t.save=function(){i.$saveOrUpdate(p,p,g,g)},t.revertChanges=function(){i=angular.copy(c),a(t,i),s.$setPristine()},t.remove=function(){i.$id()?i.$remove(m,g):m()},t.canSave=function(){return s.$valid&&!angular.equals(i,c)},t.canRevert=function(){return!angular.equals(i,c)},t.canRemove=function(){return i.$id()},t.getCssClasses=function(e){var t=s[e];return{error:t.$invalid&&!angular.equals(i,c),success:t.$valid&&!angular.equals(i,c)}},t.showError=function(e,t){return s[e].$error[t]}}}}]),angular.module("directives.gravatar",[]).directive("gravatar",["md5",function(e){return{restrict:"E",template:'<img ng-src="http://www.gravatar.com/avatar/{{hash}}{{getParams}}"/>',replace:!0,scope:{email:"=",size:"=",defaultImage:"=",forceDefault:"="},link:function(t){function n(){var e=[];t.getParams="",angular.forEach(t.options,function(t,n){t&&e.push(n+"="+encodeURIComponent(t))}),e.length>0&&(t.getParams="?"+e.join("&"))}t.options={},t.$watch("email",function(n){n&&(t.hash=e(n.trim().toLowerCase()))}),t.$watch("size",function(e){t.options.s=angular.isNumber(e)?e:void 0,n()}),t.$watch("forceDefault",function(e){t.options.f=e?"y":void 0,n()}),t.$watch("defaultImage",function(e){t.options.d=e?e:void 0,n()})}}}]).factory("md5",function(){function e(e,t){var a=e[0],i=e[1],c=e[2],u=e[3];a=n(a,i,c,u,t[0],7,-680876936),u=n(u,a,i,c,t[1],12,-389564586),c=n(c,u,a,i,t[2],17,606105819),i=n(i,c,u,a,t[3],22,-1044525330),a=n(a,i,c,u,t[4],7,-176418897),u=n(u,a,i,c,t[5],12,1200080426),c=n(c,u,a,i,t[6],17,-1473231341),i=n(i,c,u,a,t[7],22,-45705983),a=n(a,i,c,u,t[8],7,1770035416),u=n(u,a,i,c,t[9],12,-1958414417),c=n(c,u,a,i,t[10],17,-42063),i=n(i,c,u,a,t[11],22,-1990404162),a=n(a,i,c,u,t[12],7,1804603682),u=n(u,a,i,c,t[13],12,-40341101),c=n(c,u,a,i,t[14],17,-1502002290),i=n(i,c,u,a,t[15],22,1236535329),a=r(a,i,c,u,t[1],5,-165796510),u=r(u,a,i,c,t[6],9,-1069501632),c=r(c,u,a,i,t[11],14,643717713),i=r(i,c,u,a,t[0],20,-373897302),a=r(a,i,c,u,t[5],5,-701558691),u=r(u,a,i,c,t[10],9,38016083),c=r(c,u,a,i,t[15],14,-660478335),i=r(i,c,u,a,t[4],20,-405537848),a=r(a,i,c,u,t[9],5,568446438),u=r(u,a,i,c,t[14],9,-1019803690),c=r(c,u,a,i,t[3],14,-187363961),i=r(i,c,u,a,t[8],20,1163531501),a=r(a,i,c,u,t[13],5,-1444681467),u=r(u,a,i,c,t[2],9,-51403784),c=r(c,u,a,i,t[7],14,1735328473),i=r(i,c,u,a,t[12],20,-1926607734),a=s(a,i,c,u,t[5],4,-378558),u=s(u,a,i,c,t[8],11,-2022574463),c=s(c,u,a,i,t[11],16,1839030562),i=s(i,c,u,a,t[14],23,-35309556),a=s(a,i,c,u,t[1],4,-1530992060),u=s(u,a,i,c,t[4],11,1272893353),c=s(c,u,a,i,t[7],16,-155497632),i=s(i,c,u,a,t[10],23,-1094730640),a=s(a,i,c,u,t[13],4,681279174),u=s(u,a,i,c,t[0],11,-358537222),c=s(c,u,a,i,t[3],16,-722521979),i=s(i,c,u,a,t[6],23,76029189),a=s(a,i,c,u,t[9],4,-640364487),u=s(u,a,i,c,t[12],11,-421815835),c=s(c,u,a,i,t[15],16,530742520),i=s(i,c,u,a,t[2],23,-995338651),a=o(a,i,c,u,t[0],6,-198630844),u=o(u,a,i,c,t[7],10,1126891415),c=o(c,u,a,i,t[14],15,-1416354905),i=o(i,c,u,a,t[5],21,-57434055),a=o(a,i,c,u,t[12],6,1700485571),u=o(u,a,i,c,t[3],10,-1894986606),c=o(c,u,a,i,t[10],15,-1051523),i=o(i,c,u,a,t[1],21,-2054922799),a=o(a,i,c,u,t[8],6,1873313359),u=o(u,a,i,c,t[15],10,-30611744),c=o(c,u,a,i,t[6],15,-1560198380),i=o(i,c,u,a,t[13],21,1309151649),a=o(a,i,c,u,t[4],6,-145523070),u=o(u,a,i,c,t[11],10,-1120210379),c=o(c,u,a,i,t[2],15,718787259),i=o(i,c,u,a,t[9],21,-343485551),e[0]=add32(a,e[0]),e[1]=add32(i,e[1]),e[2]=add32(c,e[2]),e[3]=add32(u,e[3])}function t(e,t,n,r,s,o){return t=add32(add32(t,e),add32(r,o)),add32(t<<s|t>>>32-s,n)}function n(e,n,r,s,o,a,i){return t(n&r|~n&s,e,n,o,a,i)}function r(e,n,r,s,o,a,i){return t(n&s|r&~s,e,n,o,a,i)}function s(e,n,r,s,o,a,i){return t(n^r^s,e,n,o,a,i)}function o(e,n,r,s,o,a,i){return t(r^(n|~s),e,n,o,a,i)}function a(t){txt="";var n,r=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(n=64;t.length>=n;n+=64)e(s,i(t.substring(n-64,n)));t=t.substring(n-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;t.length>n;n++)o[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(e(s,o),n=0;16>n;n++)o[n]=0;return o[14]=8*r,e(s,o),s}function i(e){var t,n=[];for(t=0;64>t;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function c(e){for(var t="",n=0;4>n;n++)t+=d[15&e>>8*n+4]+d[15&e>>8*n];return t}function u(e){for(var t=0;e.length>t;t++)e[t]=c(e[t]);return e.join("")}function l(e){return u(a(e))}var d="0123456789abcdef".split("");return add32=function(e,t){return 4294967295&e+t},"5d41402abc4b2a76b9719d911017c592"!==l("hello")&&(add32=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}),l}),angular.module("directives.modal",[]).directive("modal",["$parse",function(e){var t,n=angular.element(document.getElementsByTagName("body")[0]),r={backdrop:!0,escape:!0};return{restrict:"ECA",link:function(s,o,a){function i(e){27===e.which&&d()}function c(){d()}function u(){p.escape&&n.unbind("keyup",i),p.backdrop&&(t.css("display","none").removeClass("in"),t.unbind("click",c)),o.css("display","none").removeClass("in"),n.removeClass("modal-open")}function l(){p.escape&&n.bind("keyup",i),p.backdrop&&(t.css("display","block").addClass("in"),t.bind("click",c)),o.css("display","block").addClass("in"),n.addClass("modal-open")}var d,p=angular.extend(r,s.$eval(a.uiOptions||a.bsOptions||a.options)),m=a.modal||a.show;d=a.close?function(){s.$apply(a.close)}:function(){s.$apply(function(){e(m).assign(s,!1)})},o.addClass("modal"),p.backdrop&&!t&&(t=angular.element('<div class="modal-backdrop"></div>'),t.css("display","none"),n.append(t)),s.$watch(m,function(e){e?l():u()})}}}]),angular.module("resources.productbacklog",["mongolabResource"]),angular.module("resources.productbacklog").factory("ProductBacklog",["mongolabResource",function(e){var t=e("productbacklog");return t.forProject=function(e){return t.query({projectId:e})},t}]),angular.module("resources.projects",["mongolabResource"]),angular.module("resources.projects").factory("Projects",["mongolabResource",function(e){var t=e("projects");return t.forUser=function(e,n,r){return t.query({},n,r)},t.prototype.isProductOwner=function(e){return this.productOwner===e},t.prototype.canActAsProductOwner=function(e){return!this.isScrumMaster(e)&&!this.isDevTeamMember(e)},t.prototype.isScrumMaster=function(e){return this.scrumMaster===e},t.prototype.canActAsScrumMaster=function(e){return!this.isProductOwner(e)},t.prototype.isDevTeamMember=function(e){return this.teamMembers.indexOf(e)>=0},t.prototype.canActAsDevTeamMember=function(e){return!this.isProductOwner(e)},t.prototype.getRoles=function(e){var t=[];return this.isProductOwner(e)?t.push("PO"):(this.isScrumMaster(e)&&t.push("SM"),this.isDevTeamMember(e)&&t.push("DEV")),t},t}]),angular.module("resources.sprints",["mongolabResource"]),angular.module("resources.sprints").factory("Sprints",["mongolabResource",function(e){var t=e("sprints");return t.forProject=function(e){return t.query({projectId:e})},t}]),angular.module("resources.tasks",["mongolabResource"]),angular.module("resources.tasks").factory("Tasks",["mongolabResource",function(e){var t=e("tasks");return t.statesEnum=["TODO","IN_DEV","BLOCKED","IN_TEST","DONE"],t.forProductBacklogItem=function(e){return t.query({productBacklogItem:e})},t.forSprint=function(e){return t.query({sprintId:e})},t.forUser=function(e){return t.query({userId:e})},t.forProject=function(e){return t.query({projectId:e})},t}]),angular.module("resources.users",["mongolabResource"]),angular.module("resources.users").factory("Users",["mongolabResource",function(e){var t=e("users");return t.prototype.getFullName=function(){return this.lastName+" "+this.firstName+" ("+this.email+")"},t}]),angular.module("security.authorization",["security.service"]).provider("securityAuthorization",{requireAdminUser:["securityAuthorization",function(e){return e.requireAdminUser()}],requireAuthenticatedUser:["securityAuthorization",function(e){return e.requireAuthenticatedUser()}],$get:["security","securityRetryQueue",function(e,t){var n={requireAuthenticatedUser:function(){var r=e.requestCurrentUser().then(function(){return e.isAuthenticated()?void 0:t.pushRetryFn("unauthenticated-client",n.requireAuthenticatedUser)});return r},requireAdminUser:function(){var r=e.requestCurrentUser().then(function(){return e.isAdmin()?void 0:t.pushRetryFn("unauthorized-client",n.requireAdminUser)});return r}};return n}]}),angular.module("security",["security.service","security.interceptor","security.login","security.authorization"]),angular.module("security.interceptor",["security.retryQueue"]).factory("securityInterceptor",["$injector","securityRetryQueue",function(e,t){return function(n){return n.then(null,function(r){return 401===r.status&&(n=t.pushRetryFn("unauthorized-server",function(){return e.get("$http")(r.config)})),n})}}]).config(["$httpProvider",function(e){e.responseInterceptors.push("securityInterceptor")}]),angular.module("security.login.form",["services.localizedMessages"]).controller("LoginFormController",["$scope","security","localizedMessages",function(e,t,n){e.user={},e.authError=null,e.authReason=null,t.getLoginReason()&&(e.authReason=t.isAuthenticated()?n.get("login.reason.notAuthorized"):n.get("login.reason.notAuthenticated")),e.login=function(){e.authError=null,t.login(e.user.email,e.user.password).then(function(t){t||(e.authError=n.get("login.error.invalidCredentials"))},function(t){e.authError=n.get("login.error.serverError",{exception:t})})},e.clearForm=function(){e.user={}},e.cancelLogin=function(){t.cancelLogin()}}]),angular.module("security.login",["security.login.form","security.login.toolbar"]),angular.module("security.login.toolbar",[]).directive("loginToolbar",["security",function(e){var t={templateUrl:"security/login/toolbar.tpl.html",restrict:"E",replace:!0,scope:!0,link:function(t){t.isAuthenticated=e.isAuthenticated,t.login=e.showLogin,t.logout=e.logout,t.$watch(function(){return e.currentUser},function(e){t.currentUser=e})}};return t}]),angular.module("security.retryQueue",[]).factory("securityRetryQueue",["$q","$log",function(e,t){var n=[],r={onItemAddedCallbacks:[],hasMore:function(){return n.length>0},push:function(e){n.push(e),angular.forEach(r.onItemAddedCallbacks,function(n){try{n(e)}catch(r){t.error("securityRetryQueue.push(retryItem): callback threw an error"+r)}})},pushRetryFn:function(t,n){1===arguments.length&&(n=t,t=void 0);var s=e.defer(),o={reason:t,retry:function(){e.when(n()).then(function(e){s.resolve(e)},function(e){s.reject(e)})},cancel:function(){s.reject()}};return r.push(o),s.promise},retryReason:function(){return r.hasMore()&&n[0].reason},cancelAll:function(){for(;r.hasMore();)n.shift().cancel()},retryAll:function(){for(;r.hasMore();)n.shift().retry()}};return r}]),angular.module("security.service",["security.retryQueue","security.login","ui.bootstrap.dialog"]).factory("security",["$http","$q","$location","securityRetryQueue","$dialog",function(e,t,n,r,s){function o(e){e=e||"/",n.path(e)}function a(){if(u)throw Error("Trying to open a dialog that is already open!");u=s.dialog(),u.open("security/login/form.tpl.html","LoginFormController").then(c)}function i(e){u&&u.close(e)}function c(e){u=null,e?r.retryAll():(r.cancelAll(),o())}var u=null;r.onItemAddedCallbacks.push(function(){r.hasMore()&&l.showLogin()});var l={getLoginReason:function(){return r.retryReason()},showLogin:function(){a()},login:function(t,n){var r=e.post("/login",{email:t,password:n});return r.then(function(e){return l.currentUser=e.data.user,l.isAuthenticated()&&i(!0),l.isAuthenticated()})},cancelLogin:function(){i(!1),o()},logout:function(t){e.post("/logout").then(function(){l.currentUser=null,o(t)})},requestCurrentUser:function(){return l.isAuthenticated()?t.when(l.currentUser):e.get("/current-user").then(function(e){return l.currentUser=e.data.user,l.currentUser})},currentUser:null,isAuthenticated:function(){return!!l.currentUser},isAdmin:function(){return!(!l.currentUser||!l.currentUser.admin)}};return l}]),angular.module("services.breadcrumbs",[]),angular.module("services.breadcrumbs").factory("breadcrumbs",["$rootScope","$location",function(e,t){var n=[],r={};return e.$on("$routeChangeSuccess",function(){var e,r=t.path().split("/"),s=[],o=function(e){return"/"+r.slice(0,e+1).join("/")};for(r.shift(),e=0;r.length>e;e++)s.push({name:r[e],path:o(e)});n=s}),r.getAll=function(){return n},r.getFirst=function(){return n[0]||{}},r}]),angular.module("services.crud",["services.crudRouteProvider"]),angular.module("services.crud").factory("crudEditMethods",function(){return function(e,t,n,r,s){var o={};return o[e]=t,o[e+"Copy"]=angular.copy(t),o.save=function(){this[e].$saveOrUpdate(r,r,s,s)},o.canSave=function(){return this[n].$valid&&!angular.equals(this[e],this[e+"Copy"])},o.revertChanges=function(){this[e]=angular.copy(this[e+"Copy"])},o.canRevert=function(){return!angular.equals(this[e],this[e+"Copy"])},o.remove=function(){this[e].$id()?this[e].$remove(r,s):r()},o.canRemove=function(){return t.$id()},o.getCssClasses=function(e){var t=this[n][e];return{error:t.$invalid&&t.$dirty,success:t.$valid&&t.$dirty}},o.showError=function(e,t){return this[n][e].$error[t]},o}}),angular.module("services.crud").factory("crudListMethods",["$location",function(e){return function(t){var n={};return n["new"]=function(){e.path(t+"/new")},n.edit=function(n){e.path(t+"/"+n)},n}}]),function(){function e(e){this.$get=angular.noop,this.routesFor=function(t,n,r){var s=t.toLowerCase(),o="/"+t.toLowerCase();r=r||n,angular.isString(n)&&""!==n&&(s=n+"/"+s),null!==r&&void 0!==r&&""!==r&&(o="/"+r+o);var a=function(e){return s+"/"+t.toLowerCase()+"-"+e.toLowerCase()+".tpl.html"},i=function(e){return t+e+"Ctrl"},c={whenList:function(e){return c.when(o,{templateUrl:a("List"),controller:i("List"),resolve:e}),c},whenNew:function(e){return c.when(o+"/new",{templateUrl:a("Edit"),controller:i("Edit"),resolve:e}),c},whenEdit:function(e){return c.when(o+"/:itemId",{templateUrl:a("Edit"),controller:i("Edit"),resolve:e}),c},when:function(t,n){return e.when(t,n),c},otherwise:function(t){return e.otherwise(t),c},$routeProvider:e};return c}}e.$inject=["$routeProvider"],angular.module("services.crudRouteProvider",["ngRoute"]).provider("crudRoute",e)}(),angular.module("services.exceptionHandler",["services.i18nNotifications"]),angular.module("services.exceptionHandler").factory("exceptionHandlerFactory",["$injector",function(e){return function(t){return function(n,r){var s=e.get("i18nNotifications");t(n,r),s.pushForCurrentRoute("error.fatal","error",{},{exception:n,cause:r})}}}]),angular.module("services.exceptionHandler").config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate","exceptionHandlerFactory",function(e,t){return t(e)}])}]),angular.module("services.httpRequestTracker",[]),angular.module("services.httpRequestTracker").factory("httpRequestTracker",["$http",function(e){var t={};return t.hasPendingRequests=function(){return e.pendingRequests.length>0},t}]),angular.module("services.i18nNotifications",["services.notifications","services.localizedMessages"]),angular.module("services.i18nNotifications").factory("i18nNotifications",["localizedMessages","notifications",function(e,t){var n=function(t,n,r,s){return angular.extend({message:e.get(t,r),type:n},s)},r={pushSticky:function(e,r,s,o){return t.pushSticky(n(e,r,s,o))},pushForCurrentRoute:function(e,r,s,o){return t.pushForCurrentRoute(n(e,r,s,o))},pushForNextRoute:function(e,r,s,o){return t.pushForNextRoute(n(e,r,s,o))},getCurrent:function(){return t.getCurrent()},remove:function(e){return t.remove(e)}};return r}]),angular.module("services.localizedMessages",[]).factory("localizedMessages",["$interpolate","I18N.MESSAGES",function(e,t){var n=function(e,t){return e||"?"+t+"?"};return{get:function(r,s){var o=t[r];return o?e(o)(s):n(o,r)}}}]),angular.module("services.notifications",[]).factory("notifications",["$rootScope",function(e){var t={STICKY:[],ROUTE_CURRENT:[],ROUTE_NEXT:[]},n={},r=function(e,t){if(!angular.isObject(t))throw Error("Only object can be added to the notification service");return e.push(t),t};return e.$on("$routeChangeSuccess",function(){t.ROUTE_CURRENT.length=0,t.ROUTE_CURRENT=angular.copy(t.ROUTE_NEXT),t.ROUTE_NEXT.length=0}),n.getCurrent=function(){return[].concat(t.STICKY,t.ROUTE_CURRENT)},n.pushSticky=function(e){return r(t.STICKY,e)},n.pushForCurrentRoute=function(e){return r(t.ROUTE_CURRENT,e)},n.pushForNextRoute=function(e){return r(t.ROUTE_NEXT,e)},n.remove=function(e){angular.forEach(t,function(t){var n=t.indexOf(e);n>-1&&t.splice(n,1)})},n.removeAll=function(){angular.forEach(t,function(e){e.length=0})},n}]),angular.module("templates.app",["admin/projects/projects-edit.tpl.html","admin/projects/projects-list.tpl.html","admin/users/users-edit.tpl.html","admin/users/users-list.tpl.html","dashboard/dashboard.tpl.html","header.tpl.html","notifications.tpl.html","projects/productbacklog/productbacklog-edit.tpl.html","projects/productbacklog/productbacklog-list.tpl.html","projects/projects-list.tpl.html","projects/sprints/sprints-edit.tpl.html","projects/sprints/sprints-list.tpl.html","projects/sprints/tasks/tasks-edit.tpl.html","projects/sprints/tasks/tasks-list.tpl.html","projectsinfo/list.tpl.html"]),angular.module("admin/projects/projects-edit.tpl.html",[]).run(["$templateCache",function(e){e.put("admin/projects/projects-edit.tpl.html",'<div class="well">\n    <form name="form" crud-edit="project">\n        <legend>Project</legend>\n        <div class="row-fluid">\n            <div class="span6">\n                <label>Name</label>\n                <input type="text" name="name" ng-model="project.name" class="span10" required autofocus>\n                <label>Description</label>\n                <textarea rows="10" cols="10" ng-model="project.desc" class="span10">\n                </textarea>\n            </div>\n            <div class="span6" ng-controller="TeamMembersController">\n                <label>Product Owner</label>\n                <select class="span12" ng-model="project.productOwner"\n                        ng-options="user.$id() as user.getFullName() for user in productOwnerCandidates()" required>\n                    <option value="">-- choose --</option>\n                </select>\n                <label>Scrum Master</label>\n                <select class="span12" ng-model="project.scrumMaster"\n                        ng-options="user.$id() as user.getFullName() for user in scrumMasterCandidates()" required>\n                    <option value="">-- choose --</option>\n                </select>\n                <label>Development Team</label>\n                <table class="table table-bordered table-condensed table-striped table-hover">\n                    <thead>\n                    <tr>\n                        <th>User</th>\n                        <th>&nbsp;</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr ng-repeat="userId in project.teamMembers">\n                        <td>{{usersLookup[userId].getFullName()}}</td>\n                        <td>\n                            <button class="btn btn-small" ng-click="removeTeamMember(userId)">Remove</button>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td><select class="span6" ng-model="selTeamMember"\n                                    ng-options="user.$id() as user.getFullName() for user in teamMemberCandidates()"></select>\n                        </td>\n                        <td>\n                            <button class="btn btn-small" ng-click="addTeamMember(selTeamMember)" ng-disabled="!selTeamMember">Add\n                            </button>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        <div class="row-fluid">\n            <hr>\n            <crud-buttons class="span12"></crud-buttons>\n        </div>\n    </form>\n</div>')
}]),angular.module("admin/projects/projects-list.tpl.html",[]).run(["$templateCache",function(e){e.put("admin/projects/projects-list.tpl.html",'<table class="table table-bordered table-condensed table-striped table-hover">\n    <thead>\n    <tr>\n        <th>Name</th>\n        <th>Description</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr ng-repeat="project in projects" ng-click="edit(project.$id())">\n        <td>{{project.name}}</td>\n        <td>{{project.desc}}</td>\n    </tr>\n    </tbody>\n</table>\n<div class="well">\n    <button class="btn" ng-click="new()">New Project</button>\n</div>\n')}]),angular.module("admin/users/users-edit.tpl.html",[]).run(["$templateCache",function(e){e.put("admin/users/users-edit.tpl.html",'<div class="well">\n    <form name="form" novalidate crud-edit="user">\n        <legend>User</legend>\n        <gravatar email="user.email" size="200" class="img-polaroid pull-right"></gravatar>\n        <label for="email">E-mail</label>\n        <input class="span6" type="email" id="email" name="email" ng-model="user.email" required unique-email>\n        <span ng-show="showError(\'email\', \'required\')" class="help-inline">This field is required.</span>\n        <span ng-show="showError(\'email\', \'email\')" class="help-inline">Please enter a valid email address.</span>\n        <span ng-show="showError(\'email\', \'uniqueEmail\')" class="help-inline">This email address is not available - please enter another.</span>\n        <label for="lastName">Last name</label>\n        <input class="span6" type="text" id="lastName" name="lastName" ng-model="user.lastName" required>\n        <span ng-show="showError(\'lastName\', \'required\')" class="help-inline">This field is required.</span>\n        <label for="firstName">First name</label>\n        <input class="span6" type="text" id="firstName" name="firstName" ng-model="user.firstName" required>\n        <span ng-show="showError(\'firstName\', \'required\')" class="help-inline">This field is required.</span>\n        <label for="password">Password</label>\n        <input class="span6" type="password" id="password" name="password" ng-model="user.password" required>\n        <span ng-show="showError(\'password\', \'required\')" class="help-inline">This field is required.</span>\n        <span ng-show="showError(\'passwordRepeat\', \'equal\')" class="help-inline">Passwords do not match.</span>\n        <label for="passwordRepeat">Password (repeat)</label>\n        <input class="span6" type="password" id="passwordRepeat" name="passwordRepeat" ng-model="password" required validate-equals="user.password">\n        <span ng-show="showError(\'passwordRepeat\', \'required\')" class="help-inline">This field is required.</span>\n        <span ng-show="showError(\'passwordRepeat\', \'equal\')" class="help-inline">Passwords do not match.</span>\n        <label>Admin</label>\n        <input type="checkbox" ng-model="user.admin">\n        <hr>\n        <crud-buttons></crud-buttons>\n    </form>\n</div>')}]),angular.module("admin/users/users-list.tpl.html",[]).run(["$templateCache",function(e){e.put("admin/users/users-list.tpl.html",'<table class="table table-bordered table-condensed table-striped table-hover">\n    <thead>\n    <tr>\n        <th></th>\n        <th>E-mail</th>\n        <th>Last name</th>\n        <th>First name</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr ng-repeat="user in users" ng-click="edit(user.$id())">\n        <td><gravatar email="user.email" size="50" default-image="\'monsterid\'"></gravatar></td>\n        <td>{{user.email}}</td>\n        <td>{{user.lastName}}</td>\n        <td>{{user.firstName}}</td>\n        <td><button class="btn btn-danger remove" ng-click="remove(user, $index, $event)">Remove</button></td>\n    </tr>\n    </tbody>\n</table>\n<div class="well">\n    <button class="btn" ng-click="new()">New User</button>\n</div>\n')}]),angular.module("dashboard/dashboard.tpl.html",[]).run(["$templateCache",function(e){e.put("dashboard/dashboard.tpl.html",'<h4>My projects</h4>\n<div ng-include="\'projects/projects-list.tpl.html\'">\n</div>\n\n<h4>My tasks</h4>\n<table class="table table-bordered table-condensed table-striped table-hover">\n    <thead>\n    <tr>\n        <th class="span8">Name</th>\n        <th class="span1">Estimation</th>\n        <th class="span1">Remaining</th>\n        <th class="span2">Tools</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr ng-repeat="task in tasks">\n        <td>{{task.name}}</td>\n        <td>{{task.estimation}}</td>\n        <td>{{task.remaining}}</td>\n        <td></td>\n    </tr>\n    <tr ng-show="!tasks.length">\n        <td colspan="4">No tasks for you!</td>\n    </tr>\n    </tbody>\n</table>')}]),angular.module("header.tpl.html",[]).run(["$templateCache",function(e){e.put("header.tpl.html",'<div class="navbar" ng-controller="HeaderCtrl">\n    <div class="navbar-inner">\n        <a class="brand" ng-click="home()">AScrum</a>\n        <ul class="nav">\n            <li ng-class="{active:isNavbarActive(\'projectsinfo\')}"><a href="/projectsinfo">Current Projects</a></li>\n        </ul>\n\n        <ul class="nav" ng-show="isAuthenticated()">\n            <li ng-class="{active:isNavbarActive(\'projects\')}"><a href="/projects">My Projects</a></li>\n            <li class="dropdown" ng-class="{active:isNavbarActive(\'admin\'), open:isAdminOpen}" ng-show="isAdmin()">\n                <a id="adminmenu" role="button" class="dropdown-toggle" ng-click="isAdminOpen=!isAdminOpen">Admin<b class="caret"></b></a>\n                <ul class="dropdown-menu" role="menu" aria-labelledby="adminmenu">\n                    <li><a tabindex="-1" href="/admin/projects" ng-click="isAdminOpen=false">Manage Projects</a></li>\n                    <li><a tabindex="-1" href="/admin/users" ng-click="isAdminOpen=false">Manage Users</a></li>\n                </ul>\n            </li>\n        </ul>\n        <ul class="nav pull-right" ng-show="hasPendingRequests()">\n            <li class="divider-vertical"></li>\n            <li><a href="#"><img src="/static/img/spinner.gif"></a></li>\n        </ul>\n        <login-toolbar></login-toolbar>\n    </div>\n    <div>\n        <ul class="breadcrumb">\n            <li ng-repeat="breadcrumb in breadcrumbs.getAll()">\n                <span class="divider">/</span>\n                <ng-switch on="$last">\n                    <span ng-switch-when="true">{{breadcrumb.name}}</span>\n                    <span ng-switch-default><a href="{{breadcrumb.path}}">{{breadcrumb.name}}</a></span>\n                </ng-switch>\n            </li>\n        </ul>\n    </div>\n</div>')}]),angular.module("notifications.tpl.html",[]).run(["$templateCache",function(e){e.put("notifications.tpl.html",'<div ng-class="[\'alert\', \'alert-\'+notification.type]" ng-repeat="notification in notifications.getCurrent()">\n    <button class="close" ng-click="removeNotification(notification)">x</button>\n    {{notification.message}}\n</div>\n')}]),angular.module("projects/productbacklog/productbacklog-edit.tpl.html",[]).run(["$templateCache",function(e){e.put("projects/productbacklog/productbacklog-edit.tpl.html",'<div class="well">\n    <h4>Product backlog item</h4>\n    <hr>\n    <form name="form" crud-edit="backlogItem">\n        <label>Name</label>\n        <input type="text" name="name" ng-model="backlogItem.name" class="span10" required autofocus>\n        <label>User story</label>\n        <textarea rows="8" cols="10" ng-model="backlogItem.desc" class="span10" required>\n        </textarea>\n        <label>Priority</label>\n        <input type="number" ng-model="backlogItem.priority" required>\n        <label>Estimation</label>\n        <input type="number" ng-model="backlogItem.estimation" required>\n        <hr>\n        <crud-buttons></crud-buttons>\n    </form>\n</div>')}]),angular.module("projects/productbacklog/productbacklog-list.tpl.html",[]).run(["$templateCache",function(e){e.put("projects/productbacklog/productbacklog-list.tpl.html",'<table class="table table-bordered table-condensed table-striped table-hover">\n    <thead>\n    <tr>\n        <th>Name</th>\n        <th>Description</th>\n        <th>Priority</th>\n        <th>Estimation</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr ng-repeat="backlogItem in backlog" ng-click="edit(backlogItem.$id())">\n        <td>{{backlogItem.name}}</td>\n        <td>{{backlogItem.desc}}</td>\n        <td>{{backlogItem.priority}}</td>\n        <td>{{backlogItem.estimation}}</td>\n    </tr>\n    <tr ng-show="!backlog.length">\n        <td colspan="4">No items in the backlog</td>\n    </tr>\n    </tbody>\n</table>\n<div class="well">\n    <button class="btn" ng-click="new()">New backlog item</button>\n</div>')}]),angular.module("projects/projects-list.tpl.html",[]).run(["$templateCache",function(e){e.put("projects/projects-list.tpl.html",'<table class="table table-bordered table-condensed table-striped table-hover">\n    <thead>\n    <tr>\n        <th class="span3">Name</th>\n        <th class="span5">Description</th>\n        <th class="span2">My Role(s)</th>\n        <th class="span2">Tools</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr ng-repeat="project in projects">\n        <td ng-click="manageBacklog(project)">{{project.name}}</td>\n        <td ng-click="manageBacklog(project)">{{project.desc}}</td>\n        <td>{{ getMyRoles(project) }}</td>\n        <td>\n            <a ng-click="manageBacklog(project)">Product backlog</a>\n            <a ng-click="manageSprints(project)">Sprints</a>\n        </td>\n    </tr>\n    </tbody>\n</table>')}]),angular.module("projects/sprints/sprints-edit.tpl.html",[]).run(["$templateCache",function(e){e.put("projects/sprints/sprints-edit.tpl.html",'<div class="well">\n    <h4>Sprint</h4>\n    <hr>\n    <form name="form" crud-edit="sprint">\n        <div class="row-fluid">\n            <div class="span6">\n                <label>Name</label>\n                <input type="text" name="name" ng-model="sprint.name" class="span10" required autofocus>\n                <label>Capacity</label>\n                <input type="number" name="description" ng-model="sprint.capacity" class="span5" required>\n            </div>\n            <div class="span6">\n                <label>Start date</label>\n                <input type="text" name="name" ng-model="sprint.start" class="span5" required>\n                <label>End date</label>\n                <input type="text" name="name" ng-model="sprint.end" class="span5" required>\n            </div>\n        </div>\n        <hr>\n        <h4>Sprint backlog</h4>\n        <hr>\n        <div class="row-fluid">\n            <div class="span6">\n                <label>Currently in the sprint\'s backlog</label>\n                <table class="table table-bordered table-condensed table-striped table-hover">\n                    <thead>\n                    <tr>\n                        <th class="span8">Name</th>\n                        <th class="span2">Estimation</th>\n                        <th class="span2">Tools</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr ng-repeat="sprintBacklogItem in sprint.sprintBacklog">\n                        <td><a ng-click="viewProductBacklogItem(sprintBacklogItem)">{{productBacklogLookup[sprintBacklogItem].name}}</a>\n                        </td>\n                        <td>{{productBacklogLookup[sprintBacklogItem].estimation}}</td>\n                        <td>\n                            <button class="btn btn-mini btn-danger" ng-click="removeBacklogItem(sprintBacklogItem)">\n                                Remove\n                            </button>\n                        </td>\n                    </tr>\n                    </tbody>\n                    <tfoot>\n                    <tr>\n                        <td>Estimation in total</td>\n                        <td>{{estimationInTotal()}}</td>\n                        <td>-</td>\n                    </tr>\n                    </tfoot>\n                </table>\n            </div>\n            <div class="span6">\n                <label>Product backlog</label>\n                <table class="table table-bordered table-condensed table-striped table-hover">\n                    <thead>\n                    <tr>\n                        <th class="span8">Name</th>\n                        <th class="span2">Estimation</th>\n                        <th class="span2">Tools</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr ng-repeat="productBacklogItem in productBacklog | filter:notSelected">\n                        <td>\n                            <a ng-click="viewProductBacklogItem(productBacklogItem.$id())">{{productBacklogItem.name}}</a>\n                        </td>\n                        <td>{{productBacklogItem.estimation}}</td>\n                        <td>\n                            <button class="btn btn-mini" ng-click="addBacklogItem(productBacklogItem)">Add to sprint\n                            </button>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        <hr>\n        <div>\n            <crud-buttons></crud-buttons>\n        </div>\n    </form>\n</div>')}]),angular.module("projects/sprints/sprints-list.tpl.html",[]).run(["$templateCache",function(e){e.put("projects/sprints/sprints-list.tpl.html",'<table class="table table-bordered table-condensed table-striped table-hover">\n    <thead>\n    <tr>\n        <th>Name</th>\n        <th>Start date</th>\n        <th>End date</th>\n        <th>Status</th>\n        <th>Tools</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr ng-repeat="sprint in sprints">\n        <td ng-click="edit(sprint.$id())">{{sprint.name}}</td>\n        <td ng-click="edit(sprint.$id())">{{sprint.start}}</td>\n        <td ng-click="edit(sprint.$id())">{{sprint.end}}</td>\n        <td ng-click="edit(sprint.$id())">ACTIVE</td>\n        <td>\n            <button type="button" class="btn btn-mini" ng-click="tasks(sprint)">Tasks</button>\n        </td>\n    </tr>\n    <tr ng-show="!sprints.length">\n        <td colspan="5">No sprints defined</td>\n    </tr>\n    </tbody>\n</table>\n<div class="well">\n    <button class="btn" ng-click="new()">New sprint</button>\n</div>')}]),angular.module("projects/sprints/tasks/tasks-edit.tpl.html",[]).run(["$templateCache",function(e){e.put("projects/sprints/tasks/tasks-edit.tpl.html",'<form name="form" crud-edit="task">\n    <div class="well">\n        <div class="row-fluid">\n            <div class="span6">\n                <label>Name</label>\n                <input type="text" name="name" ng-model="task.name" class="span10" required autofocus>\n                <label>Product Backlog item</label>\n                <select name="productBacklog" class="span10" ng-model="task.productBacklogItemId" ng-options="backlogItem.$id() as backlogItem.name for backlogItem in sprintBacklogItems" required></select>\n                <label>Description</label>\n                <textarea rows="8" cols="10" ng-model="task.desc" class="span10" required>\n                </textarea>\n            </div>\n            <div class="span6">\n                <label>Estimation</label>\n                <input type="number" name="estimation" ng-model="task.estimation" class="span5" required>\n                <label>Remaining</label>\n                <input type="number" name="remaining" ng-model="task.remaining" class="span5" required>\n                <label>State</label>\n                <select name="state" ng-model="task.state" class="span5" required ng-options="state for state in statesEnum"></select>\n                <label>Assigned to</label>\n                <select name="state" ng-model="task.assignedUserId" class="span10" ng-options="teamMember.$id() as teamMember.getFullName() for teamMember in teamMembers"></select>\n            </div>            \n        </div>\n        <hr>\n        <crud-buttons></crud-buttons>\n    </div>\n</form>')}]),angular.module("projects/sprints/tasks/tasks-list.tpl.html",[]).run(["$templateCache",function(e){e.put("projects/sprints/tasks/tasks-list.tpl.html",'<table class="table table-bordered table-condensed table-striped table-hover">\n    <thead>\n    <tr>\n        <th class="span8">Name</th>\n        <th class="span1">Estimation</th>\n        <th class="span1">Remaining</th>\n        <th class="span2">Tools</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr ng-repeat="task in tasks">\n        <td ng-click="edit(task.$id())">{{task.name}}</td>\n        <td>{{task.estimation}}</td>\n        <td>{{task.remaining}}</td>\n        <td></td>\n    </tr>\n    <tr ng-show="!tasks.length">\n        <td colspan="4">No tasks defined for this sprint</td>\n    </tr>\n    </tbody>\n</table>\n<div class="well">\n    <button class="btn" ng-click="new()">New task</button>\n</div>')}]),angular.module("projectsinfo/list.tpl.html",[]).run(["$templateCache",function(e){e.put("projectsinfo/list.tpl.html","<h3>Projects info</h3>")}]),angular.module("templates.common",["security/login/form.tpl.html","security/login/toolbar.tpl.html"]),angular.module("security/login/form.tpl.html",[]).run(["$templateCache",function(e){e.put("security/login/form.tpl.html",'<form name="form" novalidate class="login-form">\n    <div class="modal-header">\n        <h4>Sign in</h4>\n    </div>\n    <div class="modal-body">\n        <div class="alert alert-warning" ng-show="authReason">\n            {{authReason}}\n        </div>\n        <div class="alert alert-error" ng-show="authError">\n            {{authError}}\n        </div>\n        <div class="alert alert-info">Please enter your login details</div>\n        <label>E-mail</label>\n        <input name="login" type="email" ng-model="user.email" required autofocus>\n        <label>Password</label>\n        <input name="pass" type="password" ng-model="user.password" required>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-primary login" ng-click="login()" ng-disabled=\'form.$invalid\'>Sign in</button>\n        <button class="btn clear" ng-click="clearForm()">Clear</button>\n        <button class="btn btn-warning cancel" ng-click="cancelLogin()">Cancel</button>\n    </div>\n</form>\n')}]),angular.module("security/login/toolbar.tpl.html",[]).run(["$templateCache",function(e){e.put("security/login/toolbar.tpl.html",'<ul class="nav pull-right">\n  <li class="divider-vertical"></li>\n  <li ng-show="isAuthenticated()">\n      <a href="#">{{currentUser.firstName}} {{currentUser.lastName}}</a>\n  </li>\n  <li ng-show="isAuthenticated()" class="logout">\n      <form class="navbar-form">\n          <button class="btn logout" ng-click="logout()">Log out</button>\n      </form>\n  </li>\n  <li ng-hide="isAuthenticated()" class="login">\n      <form class="navbar-form">\n          <button class="btn login" ng-click="login()">Log in</button>\n      </form>\n  </li>\n</ul>')}]);